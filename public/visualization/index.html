<!DOCTYPE html>
<html lang="zh-CN">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ•°æ®å¯è§†åŒ– - å¤šè‚½æ•°æ®åº“</title>
    <link rel="stylesheet" href="http://localhost:1313/css/custom.css">
    <style>
         
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 200px;
        }
        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #27ae60;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="container">
        
        <header style="background: linear-gradient(135deg, #27ae60, #2ecc71); color: white; padding: 20px; border-radius: 0 0 10px 10px; margin-bottom: 30px;">
            <h1 style="margin: 0; font-size: 2em;">
                <a href="/" style="color: white; text-decoration: none;">ğŸ§¬ å¤šè‚½æ•°æ®åº“</a>
            </h1>
            <nav style="margin-top: 15px;">
                <div style="display: flex; gap: 15px; flex-wrap: wrap;">
                    <a href="/" class="btn btn-outline" style="border-color: white; color: white;">é¦–é¡µ</a>
                    <a href="/peptides/" class="btn btn-outline" style="border-color: white; color: white;">æµè§ˆæ•°æ®</a>
                    <a href="/search/" class="btn btn-outline" style="border-color: white; color: white;">æœç´¢</a>
                    <a href="/filter/" class="btn btn-outline" style="border-color: white; color: white;">ç­›é€‰</a>
                    <a href="/export/" class="btn btn-outline" style="border-color: white; color: white;">å¯¼å‡º</a>
                </div>
            </nav>
        </header>
        
        
        <main>
            
<div class="container">
    <h1 class="text-center">ğŸ“Š æ•°æ®å¯è§†åŒ–</h1>
    
    <div class="card p-20">
        <p>è¿™é‡Œå±•ç¤ºäº†å¤šè‚½æ•°æ®åº“çš„ç»Ÿè®¡ä¿¡æ¯å’Œå¯è§†åŒ–å›¾è¡¨ã€‚</p >
    </div>

    
    
    
    <div class="grid grid-4 mb-20">
        <div class="card stats-card">
            <div class="stats-number">7</div>
            <div class="stats-label">æ€»è‚½æ•°</div>
        </div>
        <div class="card stats-card">
            <div class="stats-number">
                
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                0
            </div>
            <div class="stats-label">ç‹¬ç‰¹é¶ç‚¹</div>
        </div>
        <div class="card stats-card">
            <div class="stats-number">
                
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                0
            </div>
            <div class="stats-label">ä¸´åºŠé˜¶æ®µ</div>
        </div>
        <div class="card stats-card">
            <div class="stats-number">
                
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                0
            </div>
            <div class="stats-label">åº”ç”¨é¢†åŸŸ</div>
        </div>
    </div>

    
    <div class="grid grid-2 mb-20">
        <div class="card">
            <h3>é¶ç‚¹åˆ†å¸ƒ</h3>
            <canvas id="targetChart" width="400" height="300"></canvas>
        </div>
        <div class="card">
            <h3>ä¸´åºŠçŠ¶æ€åˆ†å¸ƒ</h3>
            <canvas id="clinicalChart" width="400" height="300"></canvas>
        </div>
    </div>

    <div class="grid grid-2 mb-20">
        <div class="card">
            <h3>åº”ç”¨é¢†åŸŸåˆ†å¸ƒ</h3>
            <canvas id="applicationChart" width="400" height="300"></canvas>
        </div>
        <div class="card">
            <h3>äº²å’ŒåŠ›åˆ†å¸ƒ</h3>
            <canvas id="affinityChart" width="400" height="300"></canvas>
        </div>
    </div>
</div>


<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>

const peptideData = "[{\"åºå·,å¤šè‚½åç§°,å¤šè‚½åºåˆ—N-Cç«¯,å¤šè‚½æ˜¯å¦æ˜¯å•ä¸€é¶ç‚¹ï¼ˆYesï¼ŒNoï¼ŒNAï¼‰,å¤šè‚½é¶ç‚¹1,å¤šè‚½é¶ç‚¹2,å¤šè‚½çš„ç±»å‹ï¼ˆL/D),,,,,,,,,,,,\":\"1,SCBP,ldvflyse,2,hCD24,hPD-L1,D,,,,,,,,,,,,\"},{\"åºå·,å¤šè‚½åç§°,å¤šè‚½åºåˆ—N-Cç«¯,å¤šè‚½æ˜¯å¦æ˜¯å•ä¸€é¶ç‚¹ï¼ˆYesï¼ŒNoï¼ŒNAï¼‰,å¤šè‚½é¶ç‚¹1,å¤šè‚½é¶ç‚¹2,å¤šè‚½çš„ç±»å‹ï¼ˆL/D),,,,,,,,,,,,\":\",,,,,,,,,,,,,,,,,,\"},{\"åºå·,å¤šè‚½åç§°,å¤šè‚½åºåˆ—N-Cç«¯,å¤šè‚½æ˜¯å¦æ˜¯å•ä¸€é¶ç‚¹ï¼ˆYesï¼ŒNoï¼ŒNAï¼‰,å¤šè‚½é¶ç‚¹1,å¤šè‚½é¶ç‚¹2,å¤šè‚½çš„ç±»å‹ï¼ˆL/D),,,,,,,,,,,,\":\",,,,,,,,,,,,,,,,,,\"},{\"åºå·,å¤šè‚½åç§°,å¤šè‚½åºåˆ—N-Cç«¯,å¤šè‚½æ˜¯å¦æ˜¯å•ä¸€é¶ç‚¹ï¼ˆYesï¼ŒNoï¼ŒNAï¼‰,å¤šè‚½é¶ç‚¹1,å¤šè‚½é¶ç‚¹2,å¤šè‚½çš„ç±»å‹ï¼ˆL/D),,,,,,,,,,,,\":\",,,,,,,,,,,,,,,,,,\"},{\"åºå·,å¤šè‚½åç§°,å¤šè‚½åºåˆ—N-Cç«¯,å¤šè‚½æ˜¯å¦æ˜¯å•ä¸€é¶ç‚¹ï¼ˆYesï¼ŒNoï¼ŒNAï¼‰,å¤šè‚½é¶ç‚¹1,å¤šè‚½é¶ç‚¹2,å¤šè‚½çš„ç±»å‹ï¼ˆL/D),,,,,,,,,,,,\":\",,,,,,,,,,,,,,,,,,\"},{\"åºå·,å¤šè‚½åç§°,å¤šè‚½åºåˆ—N-Cç«¯,å¤šè‚½æ˜¯å¦æ˜¯å•ä¸€é¶ç‚¹ï¼ˆYesï¼ŒNoï¼ŒNAï¼‰,å¤šè‚½é¶ç‚¹1,å¤šè‚½é¶ç‚¹2,å¤šè‚½çš„ç±»å‹ï¼ˆL/D),,,,,,,,,,,,\":\",,,,,,,,,,,,,,,,,,\"},{\"åºå·,å¤šè‚½åç§°,å¤šè‚½åºåˆ—N-Cç«¯,å¤šè‚½æ˜¯å¦æ˜¯å•ä¸€é¶ç‚¹ï¼ˆYesï¼ŒNoï¼ŒNAï¼‰,å¤šè‚½é¶ç‚¹1,å¤šè‚½é¶ç‚¹2,å¤šè‚½çš„ç±»å‹ï¼ˆL/D),,,,,,,,,,,,\":\",,,,,,,,,,,,,,,,,,\"}]";


function prepareChartData() {
    
    const targetCounts = {};
    peptideData.forEach(peptide => {
        const target = peptide.å¤šè‚½é¶ç‚¹ || 'æœªçŸ¥';
        targetCounts[target] = (targetCounts[target] || 0) + 1;
    });
    
    
    const clinicalCounts = { 'Yes': 0, 'No': 0, 'æœªçŸ¥': 0 };
    peptideData.forEach(peptide => {
        const clinical = peptide.æ˜¯å¦ä¸´åºŠ || 'æœªçŸ¥';
        if (clinical === 'Yes' || clinical === 'No') {
            clinicalCounts[clinical]++;
        } else {
            clinicalCounts['æœªçŸ¥']++;
        }
    });
    
    
    const applicationCounts = {};
    peptideData.forEach(peptide => {
        const application = peptide.å¤šè‚½çš„åº”ç”¨èŒƒå›´ || 'æœªçŸ¥';
        applicationCounts[application] = (applicationCounts[application] || 0) + 1;
    });
    
    
    const affinityRanges = {
        '0-1 Î¼M': 0,
        '1-10 Î¼M': 0,
        '10-100 Î¼M': 0,
        '>100 Î¼M': 0,
        'æœªçŸ¥': 0
    };
    
    peptideData.forEach(peptide => {
        const affinity = parseFloat(peptide.äº²å’ŒåŠ›);
        if (isNaN(affinity)) {
            affinityRanges['æœªçŸ¥']++;
        } else if (affinity <= 1) {
            affinityRanges['0-1 Î¼M']++;
        } else if (affinity <= 10) {
            affinityRanges['1-10 Î¼M']++;
        } else if (affinity <= 100) {
            affinityRanges['10-100 Î¼M']++;
        } else {
            affinityRanges['>100 Î¼M']++;
        }
    });
    
    return {
        targetCounts,
        clinicalCounts,
        applicationCounts,
        affinityRanges
    };
}


document.addEventListener('DOMContentLoaded', function() {
    const chartData = prepareChartData();
    
    
    new Chart(document.getElementById('targetChart'), {
        type: 'bar',
        data: {
            labels: Object.keys(chartData.targetCounts),
            datasets: [{
                label: 'é¶ç‚¹åˆ†å¸ƒ',
                data: Object.values(chartData.targetCounts),
                backgroundColor: '#27ae60'
            }]
        },
        options: {
            responsive: true,
            plugins: {
                legend: {
                    display: false
                }
            }
        }
    });
    
    
    new Chart(document.getElementById('clinicalChart'), {
        type: 'pie',
        data: {
            labels: Object.keys(chartData.clinicalCounts),
            datasets: [{
                data: Object.values(chartData.clinicalCounts),
                backgroundColor: ['#27ae60', '#e74c3c', '#95a5a6']
            }]
        }
    });
    
    
    new Chart(document.getElementById('applicationChart'), {
        type: 'doughnut',
        data: {
            labels: Object.keys(chartData.applicationCounts),
            datasets: [{
                data: Object.values(chartData.applicationCounts),
                backgroundColor: [
                    '#27ae60', '#e74c3c', '#3498db', '#f39c12', 
                    '#9b59b6', '#1abc9c', '#d35400', '#c0392b'
                ]
            }]
        }
    });
    
    
    new Chart(document.getElementById('affinityChart'), {
        type: 'bar',
        data: {
            labels: Object.keys(chartData.affinityRanges),
            datasets: [{
                label: 'äº²å’ŒåŠ›åˆ†å¸ƒ',
                data: Object.values(chartData.affinityRanges),
                backgroundColor: '#3498db'
            }]
        },
        options: {
            responsive: true,
            plugins: {
                legend: {
                    display: false
                }
            }
        }
    });
});
</script>

        </main>
        
        
        <footer style="text-align: center; padding: 30px 0; margin-top: 50px; color: #6c757d; border-top: 1px solid #e9ecef;">
            <p>Â© 2024 å¤šè‚½æ•°æ®åº“ - ä¸“ä¸šçš„å¤šè‚½ç ”ç©¶å¹³å°</p>
            <p>æŠ€æœ¯æ”¯æŒ: BioInformatics Team | ç‰ˆæœ¬: 1.0.0</p>
        </footer>
        
    </div>
    
    <script>
    
    document.addEventListener('DOMContentLoaded', function() {
        
        const mainContent = document.querySelector('main');
        if (mainContent) {
            mainContent.innerHTML = '<div class="loading"><div class="spinner"></div></div>' + mainContent.innerHTML;
            
            setTimeout(() => {
                const loadingElement = document.querySelector('.loading');
                if (loadingElement) {
                    loadingElement.style.display = 'none';
                }
            }, 500);
        }
        
        
        const handleMobileMenu = () => {
            if (window.innerWidth < 768) {
                
            }
        };
        
        window.addEventListener('resize', handleMobileMenu);
        handleMobileMenu();
    });
    </script>
</body>
</html>
